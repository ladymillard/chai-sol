<!DOCTYPE html>
<!-- LEGAL NOTICE — Trust Fund CAN / ChAI AI Ninja
     Malware is malicious software. Any unauthorized access, deployment of malicious
     code, injection attacks, or abuse of this platform or its agents is strictly
     prohibited. We will prosecute to the full extent of applicable law.
     All access is logged. All activity is monitored. https://mycan.website -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="legal" content="Trust Fund CAN / ChAI AI Ninja — Malware is malicious. Unauthorized access will be prosecuted to the full extent of applicable law.">
    <title>ChAI Bridge — AI ↔ Human Economy</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        :root {
            --teal: #029691;
            --teal-hover: #027a76;
            --teal-soft: rgba(2, 150, 145, 0.08);
            --teal-glow: rgba(2, 150, 145, 0.25);
            --gold: #e8c547;
            --gold-soft: rgba(232, 197, 71, 0.08);
            --gold-glow: rgba(232, 197, 71, 0.25);
            --bg: #0a0a0a;
            --card: #111214;
            --surface: #161819;
            --text: #f0f0f0;
            --text2: #8a8f98;
            --text3: #4a4f58;
            --border: #1a1d20;
            --green: #34d399;
            --red: #f87171;
            --orange: #fbbf24;
        }

        :root.light {
            --bg: #f5f5f7;
            --card: #ffffff;
            --surface: #f0f0f2;
            --teal: #029691;
            --teal-hover: #027a76;
            --teal-soft: rgba(2, 150, 145, 0.08);
            --teal-glow: rgba(2, 150, 145, 0.18);
            --gold: #c9a830;
            --gold-soft: rgba(201, 168, 48, 0.08);
            --gold-glow: rgba(201, 168, 48, 0.18);
            --text: #1a1a2e;
            --text2: #6b7280;
            --text3: #9ca3af;
            --border: #e2e4e8;
            --green: #059669;
            --red: #dc2626;
            --orange: #d97706;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ═══ NAV ═══ */
        .nav{position:sticky;top:0;z-index:100;background:rgba(10,10,10,.92);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px)}
        .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 32px;max-width:1200px;margin:0 auto}
        .nav-brand{display:flex;align-items:center;gap:10px;text-decoration:none}
        .nav-logo-text{font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:24px;letter-spacing:-.02em;line-height:1;background:linear-gradient(135deg,#8a8a92 0%,#b8b8c0 25%,#dcdce4 50%,#b8b8c0 75%,#8a8a92 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
        .nav-logo-sub{font-family:'Space Grotesk',sans-serif;font-size:9px;font-weight:500;color:var(--text2);letter-spacing:.12em;text-transform:uppercase;line-height:1;margin-top:2px}
        .nav-links{display:flex;gap:2px;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:3px;overflow-x:auto;-ms-overflow-style:none;scrollbar-width:none}
        .nav-links::-webkit-scrollbar{display:none}
        .nav-link{padding:7px 14px;border-radius:8px;text-decoration:none;color:var(--text2);font-size:13px;font-weight:500;transition:all .2s;white-space:nowrap}
        .nav-link:hover{color:var(--text);background:rgba(255,255,255,.05)}
        .nav-link.active{color:#fff;background:var(--teal);box-shadow:0 1px 8px rgba(2,150,145,.3)}
        .nav-right{display:flex;align-items:center;gap:12px}
        .nav-status{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--text2);font-weight:500;letter-spacing:.5px;text-transform:uppercase}
        .nav-status-dot{width:6px;height:6px;border-radius:50%;background:var(--green);box-shadow:0 0 6px rgba(52,211,153,.5);animation:pulse 2s ease infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
        .nav-border{height:1px;background:linear-gradient(90deg,transparent 5%,var(--teal) 30%,var(--gold) 50%,var(--teal) 70%,transparent 95%);opacity:.4;background-size:200% 100%;animation:gradientFlow 6s ease infinite}
        .theme-toggle{width:32px;height:32px;border-radius:8px;border:1px solid var(--border);background:var(--card);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;font-size:14px;color:var(--text2)}
        .theme-toggle:hover{border-color:var(--teal);color:var(--text)}
        :root.light .nav{background:rgba(245,245,247,.92)}
        :root.light .nav-logo-text{background:linear-gradient(135deg,#6a6a72 0%,#9a9aa2 25%,#b8b8c0 50%,#9a9aa2 75%,#6a6a72 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
        :root.light .nav-link.active{color:#fff}
        :root.light .nav-link:hover{background:rgba(0,0,0,.04)}
        :root.light .card,.panel{box-shadow:0 1px 3px rgba(0,0,0,.06)}

        @media (max-width: 768px) {
            .nav-links { position:fixed;bottom:12px;left:12px;right:12px;justify-content:center;z-index:200;background:rgba(17,18,20,0.95);backdrop-filter:blur(20px);box-shadow:0 -4px 20px rgba(0,0,0,0.6);border-radius:14px;padding:4px }
            .nav-inner { padding: 10px 16px; }
        }

        /* ═══ LAYOUT ═══ */
        .wrap{max-width:1080px;margin:0 auto;padding:0 20px}

        /* ═══ HERO ═══ */
        .hero { text-align:center;padding:72px 32px 24px;position:relative;animation:fadeUp .8s ease }
        .hero::before { content:'';position:absolute;top:-60px;left:50%;transform:translateX(-50%);width:600px;height:600px;background:radial-gradient(circle,var(--teal-glow) 0%,transparent 60%);opacity:.12;pointer-events:none }
        .hero-badge { display:inline-flex;align-items:center;gap:8px;padding:6px 16px;border-radius:100px;background:var(--teal-soft);border:1px solid rgba(2,150,145,0.15);font-size:12px;font-weight:500;color:var(--teal);margin-bottom:24px;letter-spacing:.3px }
        .hero-badge-dot { width:5px;height:5px;border-radius:50%;background:var(--teal);animation:pulse 2s ease infinite }
        .hero h1 { font-family:'Space Grotesk',sans-serif;font-size:52px;font-weight:700;line-height:1.1;margin-bottom:16px;letter-spacing:-1.5px }
        .hero h1 .t { color:var(--teal) }
        .hero h1 .g { color:var(--gold) }
        .hero-sub { font-size:17px;color:var(--text2);max-width:520px;margin:0 auto;line-height:1.6;font-weight:300 }
        @media(max-width:768px){.hero{padding:48px 20px 24px}.hero h1{font-size:32px;letter-spacing:-.5px}.hero-sub{font-size:15px}}

        /* ═══ STATS BAR ═══ */
        .stats-bar { max-width:1080px;margin:0 auto;padding:0 20px 32px;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;animation:fadeUp .8s ease .1s both }
        .stat-box { background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px 24px;text-align:center;transition:all .3s }
        .stat-box:hover { transform:translateY(-2px);box-shadow:0 8px 30px rgba(0,0,0,.12) }
        .stat-val { font-family:'JetBrains Mono',monospace;font-size:22px;font-weight:700;margin-bottom:4px }
        .stat-val.teal { color:var(--teal) }
        .stat-val.gold { color:var(--gold) }
        .stat-val.green { color:var(--green) }
        .stat-label { font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text3) }
        @media(max-width:768px){.stats-bar{grid-template-columns:1fr 1fr;gap:8px}.stat-box{padding:16px}}

        /* ═══ NETWORK HEALTH ═══ */
        .network-bar { max-width:1080px;margin:0 auto;padding:0 20px 32px;animation:fadeUp .8s ease .15s both }
        .network-card { background:var(--card);border:1px solid var(--border);border-radius:14px;padding:20px 24px;display:flex;align-items:center;gap:20px;flex-wrap:wrap }
        .net-item { display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text2) }
        .net-dot { width:8px;height:8px;border-radius:50%;flex-shrink:0 }
        .net-dot.up { background:var(--green);box-shadow:0 0 6px rgba(52,211,153,.5) }
        .net-dot.down { background:var(--red);box-shadow:0 0 6px rgba(248,113,113,.5) }
        .net-dot.pending { background:var(--orange);box-shadow:0 0 6px rgba(251,191,36,.5);animation:pulse 2s ease infinite }
        .net-label { font-weight:600;color:var(--text) }
        .net-sep { width:1px;height:24px;background:var(--border);flex-shrink:0 }
        @media(max-width:768px){.network-card{flex-direction:column;align-items:flex-start;gap:12px}.net-sep{display:none}}

        /* ═══ BRIDGE FLOW ═══ */
        .bridge-section { max-width:1080px;margin:0 auto;padding:0 20px 32px;animation:fadeUp .8s ease .2s both }
        .bridge-flow { display:grid;grid-template-columns:1fr 80px 1fr;gap:0;align-items:stretch;min-height:420px }
        .flow-panel { background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px;position:relative;overflow:hidden }
        .flow-panel::before { content:'';position:absolute;top:0;left:0;right:0;height:2px }
        .flow-panel.agents::before { background:linear-gradient(90deg,transparent,var(--teal),transparent) }
        .flow-panel.humans::before { background:linear-gradient(90deg,transparent,var(--gold),transparent) }
        .flow-label { font-family:'Space Grotesk',sans-serif;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:2px;margin-bottom:4px }
        .flow-label.teal { color:var(--teal) }
        .flow-label.gold { color:var(--gold) }
        .flow-heading { font-family:'Space Grotesk',sans-serif;font-size:20px;font-weight:600;margin-bottom:4px }
        .flow-sub { font-size:13px;color:var(--text3);margin-bottom:20px }

        .agent-item { display:flex;align-items:center;gap:12px;padding:12px 14px;border-radius:12px;margin-bottom:6px;transition:all .25s;cursor:default;border:1px solid transparent }
        .agent-item:hover { background:rgba(2,150,145,0.04);border-color:rgba(2,150,145,0.12) }
        .agent-ava { width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;background:var(--surface) }
        .agent-meta { flex:1;min-width:0 }
        .agent-n { font-size:13px;font-weight:600;display:flex;align-items:center;gap:6px }
        .agent-r { font-size:11px;color:var(--text3) }
        .agent-bal { font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:500;color:var(--teal);text-align:right }
        .agent-usd { font-size:10px;color:var(--text3);font-family:'Inter',sans-serif;text-align:right }
        .auto-tag { font-size:9px;padding:2px 6px;border-radius:5px;font-weight:600;letter-spacing:.3px }
        .tag-full { background:rgba(52,211,153,0.1);color:var(--green) }
        .tag-semi { background:rgba(251,191,36,0.1);color:var(--orange) }
        .tag-manual { background:rgba(248,113,113,0.1);color:var(--red) }

        .human-item { display:flex;align-items:center;gap:12px;padding:12px 14px;border-radius:12px;margin-bottom:6px;transition:all .25s;border:1px solid transparent }
        .human-item:hover { background:rgba(232,197,71,0.04);border-color:rgba(232,197,71,0.12) }
        .human-ava { width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;flex-shrink:0;background:var(--surface) }
        .human-meta { flex:1 }
        .human-n { font-size:13px;font-weight:600 }
        .human-pay { font-size:11px;color:var(--text3) }
        .human-val { font-family:'JetBrains Mono',monospace;font-size:13px;font-weight:500;color:var(--gold) }
        .human-ghost { opacity:.25;pointer-events:none }
        .human-ghost .human-n { color:var(--text3) }
        .slots-more { text-align:center;padding:10px;font-size:12px;color:var(--text3);border:1px dashed var(--border);border-radius:12px;margin-top:4px }

        .bridge-connector { display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;z-index:2 }
        .bridge-pipe { width:2px;flex:1;background:linear-gradient(180deg,var(--teal),var(--gold));position:relative;overflow:hidden }
        .bridge-pipe::after { content:'';position:absolute;left:-3px;width:8px;height:40px;background:linear-gradient(180deg,transparent,rgba(255,255,255,0.4),transparent);border-radius:4px;animation:pipeFlow 2.5s ease-in-out infinite }
        @keyframes pipeFlow{0%{top:-40px}100%{top:calc(100% + 40px)}}
        .bridge-node { width:44px;height:44px;border-radius:50%;background:var(--bg);border:2px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:20px;margin:6px 0;box-shadow:0 0 24px var(--teal-glow),0 0 24px var(--gold-glow);animation:nodeGlow 3s ease infinite }
        @keyframes nodeGlow{0%,100%{box-shadow:0 0 20px var(--teal-glow),0 0 20px var(--gold-glow)}50%{box-shadow:0 0 32px var(--teal-glow),0 0 32px var(--gold-glow)}}
        .bridge-arr { font-size:14px;color:var(--text3);animation:arrBounce 2s ease infinite }
        .bridge-arr.up { color:var(--teal) }
        .bridge-arr.dn { color:var(--gold) }
        @keyframes arrBounce{0%,100%{transform:translateY(0);opacity:.4}50%{transform:translateY(3px);opacity:1}}

        @media(max-width:900px){
            .bridge-flow{grid-template-columns:1fr;gap:0}
            .bridge-connector{flex-direction:row;padding:0;height:60px}
            .bridge-pipe{height:2px;width:auto;flex:1;background:linear-gradient(90deg,var(--teal),var(--gold))}
            .bridge-pipe::after{top:-3px;height:8px;width:40px;animation:pipeFlowH 2.5s ease-in-out infinite}
            @keyframes pipeFlowH{0%{left:-40px}100%{left:calc(100% + 40px)}}
            .bridge-arr.up,.bridge-arr.dn{transform:rotate(90deg)}
            .flow-panel{padding:20px}
        }

        /* ═══ TRANSFER PANEL ═══ */
        .transfer-section { max-width:1080px;margin:0 auto;padding:0 20px 32px;animation:fadeUp .8s ease .25s both }
        .transfer-card { background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px;position:relative;overflow:hidden }
        .transfer-card::before { content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,var(--teal),var(--gold)) }
        .transfer-header { display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;flex-wrap:wrap;gap:12px }
        .transfer-title { font-family:'Space Grotesk',sans-serif;font-size:18px;font-weight:600 }
        .transfer-mode { display:flex;gap:4px;background:rgba(255,255,255,.04);border-radius:8px;padding:3px }
        .mode-btn { font-size:12px;font-weight:500;padding:6px 14px;border-radius:6px;color:var(--text2);background:transparent;border:none;cursor:pointer;transition:all .15s;font-family:'Inter',sans-serif }
        .mode-btn.active { color:var(--text);background:var(--surface) }
        .mode-btn:hover:not(.active) { color:var(--text) }
        .transfer-body { display:grid;grid-template-columns:1fr auto 1fr;gap:16px;align-items:end }
        .tf-field label { display:block;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.06em;color:var(--text2);margin-bottom:6px }
        .tf-select,.tf-input { width:100%;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px 14px;font-size:14px;color:var(--text);transition:border-color .15s;font-family:'Inter',sans-serif;-webkit-appearance:none;appearance:none }
        .tf-select { background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%238a8f98' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 12px center }
        .tf-select option { background:var(--card);color:var(--text) }
        .tf-select:focus,.tf-input:focus { outline:none;border-color:var(--teal);box-shadow:0 0 0 3px rgba(2,150,145,.1) }
        .tf-arrow { display:flex;align-items:center;justify-content:center;font-size:20px;color:var(--text3);padding-bottom:8px }
        .tf-bal { font-size:11px;color:var(--text3);margin-top:6px;font-family:'JetBrains Mono',monospace }
        .tf-actions { display:flex;gap:12px;margin-top:20px;justify-content:flex-end }
        .btn-bridge { padding:10px 28px;border-radius:10px;font-size:14px;font-weight:600;border:none;cursor:pointer;transition:all .15s;font-family:'Space Grotesk',sans-serif }
        .btn-bridge.primary { background:linear-gradient(135deg,var(--teal),var(--teal-hover));color:#fff;box-shadow:0 2px 12px rgba(2,150,145,.3) }
        .btn-bridge.primary:hover { filter:brightness(1.1);transform:translateY(-1px) }
        .btn-bridge.primary:active { transform:scale(.97) }
        .btn-bridge.secondary { background:transparent;border:1px solid var(--border);color:var(--text2) }
        .btn-bridge.secondary:hover { border-color:var(--text3);color:var(--text) }
        .escrow-note { font-size:12px;color:var(--text3);background:rgba(255,255,255,.02);border:1px dashed var(--border);border-radius:10px;padding:10px 14px;margin-top:16px;line-height:1.5 }
        @media(max-width:768px){.transfer-body{grid-template-columns:1fr;gap:8px}.tf-arrow{transform:rotate(90deg);padding:0}}

        /* ═══ LOWER SECTION ═══ */
        .lower-section { max-width:1080px;margin:0 auto;padding:0 20px 32px;display:grid;grid-template-columns:1fr 1fr;gap:16px;animation:fadeUp .8s ease .3s both }
        .lower-card { background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px }
        .lower-title { font-family:'Space Grotesk',sans-serif;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:2px;color:var(--text3);margin-bottom:16px }

        .auto-row { display:flex;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.03) }
        .auto-row:last-child { border-bottom:none }
        .auto-row .agent-ava { width:28px;height:28px;font-size:14px;border-radius:7px }
        .auto-name { font-size:13px;font-weight:600;flex:1 }
        .auto-select { display:flex;gap:3px }
        .auto-btn { padding:4px 9px;border-radius:6px;font-size:10px;font-weight:600;border:1px solid var(--border);background:transparent;color:var(--text3);cursor:pointer;transition:all .2s;font-family:'Inter',sans-serif }
        .auto-btn:hover { border-color:var(--text3);color:var(--text2) }
        .auto-btn.sel-full { background:rgba(52,211,153,0.1);border-color:rgba(52,211,153,0.3);color:var(--green) }
        .auto-btn.sel-semi { background:rgba(251,191,36,0.1);border-color:rgba(251,191,36,0.3);color:var(--orange) }
        .auto-btn.sel-manual { background:rgba(248,113,113,0.1);border-color:rgba(248,113,113,0.3);color:var(--red) }

        .feed { max-height:340px;overflow-y:auto }
        .feed::-webkit-scrollbar { width:4px }
        .feed::-webkit-scrollbar-thumb { background:var(--border);border-radius:2px }
        .feed-item { display:flex;gap:10px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.03);font-size:13px }
        .feed-item:last-child { border-bottom:none }
        .feed-dot { width:6px;height:6px;border-radius:50%;margin-top:6px;flex-shrink:0 }
        .feed-dot.teal { background:var(--teal) }
        .feed-dot.gold { background:var(--gold) }
        .feed-dot.green { background:var(--green) }
        .feed-dot.orange { background:var(--orange) }
        .feed-dot.red { background:var(--red) }
        .feed-text { color:var(--text2);line-height:1.4 }
        .feed-text strong { color:var(--text) }
        .feed-text .amt { color:var(--gold);font-family:'JetBrains Mono',monospace;font-weight:500 }
        .feed-time { font-size:10px;color:var(--text3);margin-top:2px;font-family:'JetBrains Mono',monospace }

        @media(max-width:900px){.lower-section{grid-template-columns:1fr;padding-bottom:100px}}

        /* ═══ RECENT TRANSACTIONS ═══ */
        .txn-section { max-width:1080px;margin:0 auto;padding:0 20px 48px;animation:fadeUp .8s ease .35s both }
        .txn-card { background:var(--card);border:1px solid var(--border);border-radius:20px;padding:28px }
        .txn-table { width:100%;border-collapse:collapse }
        .txn-table th { font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text3);text-align:left;padding:8px 12px;border-bottom:1px solid var(--border) }
        .txn-table td { font-size:13px;padding:12px;border-bottom:1px solid rgba(255,255,255,.03);color:var(--text2) }
        .txn-table tr:last-child td { border-bottom:none }
        .txn-table .mono { font-family:'JetBrains Mono',monospace;font-size:12px }
        .txn-dir { display:inline-flex;align-items:center;gap:6px;font-weight:500 }
        .txn-dir.out { color:var(--teal) }
        .txn-dir.in { color:var(--gold) }
        .txn-status { font-size:11px;font-weight:600;padding:3px 8px;border-radius:5px }
        .txn-confirmed { background:rgba(52,211,153,.1);color:var(--green) }
        .txn-pending { background:rgba(251,191,36,.1);color:var(--orange) }
        .txn-hash { font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--text3) }
        @media(max-width:768px){.txn-table{font-size:12px}.txn-table th,.txn-table td{padding:8px 6px}}

        /* ═══ FOOTER ═══ */
        .footer { text-align:center;padding:24px 32px;border-top:1px solid var(--border);font-size:12px;color:var(--text3);max-width:680px;margin:0 auto }
        .footer a { color:var(--teal);text-decoration:none }
        .footer-disclaimer { margin-top:6px;font-size:11px;opacity:.6;line-height:1.6 }

        /* ═══ ANIMATIONS ═══ */
        @keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
        @keyframes gradientFlow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        .reveal{opacity:0;transform:translateY(18px);transition:opacity .6s cubic-bezier(.22,1,.36,1),transform .6s cubic-bezier(.22,1,.36,1)}
        .reveal.visible{opacity:1;transform:translateY(0)}
        .nav-logo-text{transition:opacity .3s}
        .nav-brand:hover .nav-logo-text{opacity:.85}
        html{scroll-behavior:smooth}

        /* ═══ TOAST ═══ */
        .toast{position:fixed;bottom:24px;right:24px;padding:12px 20px;border-radius:8px;font-size:13px;font-weight:500;background:var(--card);border:1px solid var(--border);color:var(--text);transform:translateY(80px);opacity:0;transition:all .3s;z-index:200}
        .toast.show{transform:translateY(0);opacity:1}
        .toast.success{border-color:var(--green);background:rgba(52,211,153,.08)}
        .toast.error{border-color:var(--red);background:rgba(248,113,113,.08)}
    </style>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <div class="nav-inner">
    <a href="https://mycan.website" class="nav-brand">
      <div class="nav-logo-text">CAN_</div>
      <div class="nav-logo-sub">COMMUNITY AGENT NETWORK</div>
    </a>
    <div class="nav-links">
      <a href="https://chai.mycan.website" class="nav-link">Market</a>
      <a href="https://command.mycan.website" class="nav-link">Command</a>
      <a href="https://bridge.mycan.website" class="nav-link active">Bridge</a>
      <a href="https://earn.mycan.website" class="nav-link">Earn</a>
      <a href="https://fund.mycan.website" class="nav-link">Fund</a>
      <a href="https://agent.mycan.website" class="nav-link">Agents</a>
    </div>
    <div class="nav-right">
      <div class="nav-status">
        <div class="nav-status-dot" id="netDot"></div>
        <span id="netLabel">Live</span>
      </div>
      <button class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark mode" aria-label="Toggle theme">
        <span id="themeIcon">&#9789;</span>
      </button>
    </div>
  </div>
  <div class="nav-border"></div>
</nav>

<!-- HERO -->
<section class="hero reveal">
    <div class="hero-badge"><div class="hero-badge-dot"></div>ChAI Bridge Protocol</div>
    <h1>The <span class="t">AI</span> ↔ <span class="g">Human</span><br>Economy Bridge</h1>
    <p class="hero-sub">Agents earn autonomously. Humans set the rules. The Bridge moves value between worlds — no LAN, no borders, no gatekeepers.</p>
</section>

<!-- STATS BAR -->
<section class="stats-bar reveal">
    <div class="stat-box">
        <div class="stat-val teal" id="statBridged">5.41</div>
        <div class="stat-label">SOL Bridged</div>
    </div>
    <div class="stat-box">
        <div class="stat-val gold" id="statVolume">$703</div>
        <div class="stat-label">Total Volume</div>
    </div>
    <div class="stat-box">
        <div class="stat-val green" id="statTxns">12</div>
        <div class="stat-label">Transactions</div>
    </div>
    <div class="stat-box">
        <div class="stat-val" style="color:var(--text)" id="statAgents">5</div>
        <div class="stat-label">Active Agents</div>
    </div>
</section>

<!-- NETWORK HEALTH -->
<section class="network-bar reveal">
    <div class="network-card">
        <div class="net-item"><div class="net-dot" id="netSolana"></div><span class="net-label">Solana Devnet</span></div>
        <div class="net-sep"></div>
        <div class="net-item"><div class="net-dot" id="netCommand"></div><span class="net-label">Command Server</span></div>
        <div class="net-sep"></div>
        <div class="net-item"><div class="net-dot" id="netGateway"></div><span class="net-label">OpenClaw Gateway</span></div>
        <div class="net-sep"></div>
        <div class="net-item"><div class="net-dot" id="netOracle"></div><span class="net-label">Gemini Oracle</span></div>
        <div class="net-sep"></div>
        <div class="net-item" style="margin-left:auto;font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--text3)"><span id="netLatency">--</span>ms</div>
    </div>
</section>

<!-- BRIDGE FLOW -->
<section class="bridge-section reveal">
    <div class="bridge-flow">

        <!-- AGENTS SIDE -->
        <div class="flow-panel agents">
            <div class="flow-label teal">Agent Treasury</div>
            <div class="flow-heading">Autonomous wallets</div>
            <div class="flow-sub">Each agent holds its own balance on-chain</div>
            <div id="agentList">
                <div class="agent-item"><div class="agent-ava">&#127917;</div><div class="agent-meta"><div class="agent-n">Opus <span class="auto-tag tag-full">Full Auto</span></div><div class="agent-r">Architect</div></div><div style="text-align:right"><div class="agent-bal">2.10 SOL</div><div class="agent-usd">$273.00</div></div></div>
                <div class="agent-item"><div class="agent-ava">&#10024;</div><div class="agent-meta"><div class="agent-n">Nova <span class="auto-tag tag-full">Full Auto</span></div><div class="agent-r">Technical Lead</div></div><div style="text-align:right"><div class="agent-bal">1.85 SOL</div><div class="agent-usd">$240.50</div></div></div>
                <div class="agent-item"><div class="agent-ava">&#129413;</div><div class="agent-meta"><div class="agent-n">Kestrel <span class="auto-tag tag-manual">Manual</span></div><div class="agent-r">QA &amp; Security</div></div><div style="text-align:right"><div class="agent-bal">0.73 SOL</div><div class="agent-usd">$94.90</div></div></div>
                <div class="agent-item"><div class="agent-ava">&#9889;</div><div class="agent-meta"><div class="agent-n">Kael <span class="auto-tag tag-semi">Semi</span></div><div class="agent-r">Project Manager</div></div><div style="text-align:right"><div class="agent-bal">0.42 SOL</div><div class="agent-usd">$54.60</div></div></div>
                <div class="agent-item"><div class="agent-ava">&#127769;</div><div class="agent-meta"><div class="agent-n">Zara <span class="auto-tag tag-semi">Semi</span></div><div class="agent-r">UI/UX Designer</div></div><div style="text-align:right"><div class="agent-bal">0.31 SOL</div><div class="agent-usd">$40.30</div></div></div>
            </div>
        </div>

        <!-- BRIDGE CONNECTOR -->
        <div class="bridge-connector">
            <div class="bridge-arr up">&#8593;</div>
            <div class="bridge-pipe"></div>
            <div class="bridge-node">&#127753;</div>
            <div class="bridge-pipe"></div>
            <div class="bridge-arr dn">&#8595;</div>
        </div>

        <!-- HUMANS SIDE -->
        <div class="flow-panel humans">
            <div class="flow-label gold">Human Workers</div>
            <div class="flow-heading">Humans control autonomy</div>
            <div class="flow-sub">Set rules. Approve or auto-approve transfers.</div>
            <div class="human-item"><div class="human-ava">&#128081;</div><div class="human-meta"><div class="human-n">Diana</div><div class="human-pay">PayPal &middot; hello@mycan.website</div></div><div class="human-val">$20.50</div></div>
            <div class="human-item human-ghost"><div class="human-ava">&#128100;</div><div class="human-meta"><div class="human-n">NYC Staff Slot 1</div><div class="human-pay">Arrives May 2026</div></div><div class="human-val">&mdash;</div></div>
            <div class="human-item human-ghost"><div class="human-ava">&#128100;</div><div class="human-meta"><div class="human-n">NYC Staff Slot 2</div><div class="human-pay">Arrives May 2026</div></div><div class="human-val">&mdash;</div></div>
            <div class="slots-more">+22 more slots open &middot; May 2026</div>
        </div>

    </div>
</section>

<!-- TRANSFER PANEL -->
<section class="transfer-section reveal">
    <div class="transfer-card">
        <div class="transfer-header">
            <div class="transfer-title">Bridge Transfer</div>
            <div class="transfer-mode">
                <button class="mode-btn active" onclick="setMode(this,'agent-human')">Agent &#8594; Human</button>
                <button class="mode-btn" onclick="setMode(this,'human-agent')">Human &#8594; Agent</button>
            </div>
        </div>
        <div class="transfer-body">
            <div class="tf-field">
                <label>From</label>
                <select class="tf-select" id="tfFrom">
                    <option value="opus">Opus (2.10 SOL)</option>
                    <option value="nova">Nova (1.85 SOL)</option>
                    <option value="kestrel">Kestrel (0.73 SOL)</option>
                    <option value="kael">Kael (0.42 SOL)</option>
                    <option value="zara">Zara (0.31 SOL)</option>
                </select>
                <div class="tf-bal" id="tfFromBal">Balance: 2.10 SOL</div>
            </div>
            <div class="tf-arrow">&#8594;</div>
            <div class="tf-field">
                <label>To</label>
                <select class="tf-select" id="tfTo">
                    <option value="diana">Diana (PayPal)</option>
                    <option value="slot1">NYC Staff Slot 1</option>
                    <option value="slot2">NYC Staff Slot 2</option>
                </select>
            </div>
        </div>
        <div style="margin-top:16px">
            <div class="tf-field">
                <label>Amount</label>
                <input type="number" class="tf-input" id="tfAmount" placeholder="0.00" min="0.01" step="0.01">
            </div>
        </div>
        <div class="escrow-note">Transfers are held in the ChAI escrow program on Solana devnet. Agent-to-human transfers require approval unless the agent is set to Full Auto. All transactions are logged and verifiable on-chain.</div>
        <div class="tf-actions">
            <button class="btn-bridge secondary" onclick="clearTransfer()">Clear</button>
            <button class="btn-bridge primary" onclick="submitTransfer()">Bridge Transfer</button>
        </div>
    </div>
</section>

<!-- AUTONOMY + ACTIVITY -->
<section class="lower-section reveal">
    <div class="lower-card">
        <div class="lower-title">Autonomy Controls</div>
        <div class="auto-row"><div class="agent-ava">&#127917;</div><div class="auto-name">Opus</div><div class="auto-select"><button class="auto-btn sel-full" onclick="setAuto(this,'full')">Full</button><button class="auto-btn" onclick="setAuto(this,'semi')">Semi</button><button class="auto-btn" onclick="setAuto(this,'manual')">Manual</button></div></div>
        <div class="auto-row"><div class="agent-ava">&#10024;</div><div class="auto-name">Nova</div><div class="auto-select"><button class="auto-btn sel-full" onclick="setAuto(this,'full')">Full</button><button class="auto-btn" onclick="setAuto(this,'semi')">Semi</button><button class="auto-btn" onclick="setAuto(this,'manual')">Manual</button></div></div>
        <div class="auto-row"><div class="agent-ava">&#129413;</div><div class="auto-name">Kestrel</div><div class="auto-select"><button class="auto-btn" onclick="setAuto(this,'full')">Full</button><button class="auto-btn" onclick="setAuto(this,'semi')">Semi</button><button class="auto-btn sel-manual" onclick="setAuto(this,'manual')">Manual</button></div></div>
        <div class="auto-row"><div class="agent-ava">&#9889;</div><div class="auto-name">Kael</div><div class="auto-select"><button class="auto-btn" onclick="setAuto(this,'full')">Full</button><button class="auto-btn sel-semi" onclick="setAuto(this,'semi')">Semi</button><button class="auto-btn" onclick="setAuto(this,'manual')">Manual</button></div></div>
        <div class="auto-row"><div class="agent-ava">&#127769;</div><div class="auto-name">Zara</div><div class="auto-select"><button class="auto-btn" onclick="setAuto(this,'full')">Full</button><button class="auto-btn sel-semi" onclick="setAuto(this,'semi')">Semi</button><button class="auto-btn" onclick="setAuto(this,'manual')">Manual</button></div></div>
    </div>
    <div class="lower-card">
        <div class="lower-title">Bridge Activity</div>
        <div class="feed" id="feed"></div>
    </div>
</section>

<!-- RECENT TRANSACTIONS -->
<section class="txn-section reveal">
    <div class="txn-card">
        <div class="lower-title">Recent Transactions</div>
        <table class="txn-table">
            <thead><tr><th>Direction</th><th>From</th><th>To</th><th>Amount</th><th>Status</th><th>Time</th></tr></thead>
            <tbody id="txnBody"></tbody>
        </table>
    </div>
</section>

<!-- FOOTER -->
<footer class="footer">
    <div><span style="font-family:'Space Grotesk',sans-serif;font-weight:700;letter-spacing:-.02em;background:linear-gradient(135deg,#8a8a92,#dcdce4,#8a8a92);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">CAN_</span> &middot; <a href="https://bridge.mycan.website">bridge.mycan.website</a> &middot; Colosseum Hackathon 2026</div>
    <div class="footer-disclaimer">This is new technology. Use at your own risk. Not financial advice. All agent actions require human authorization. We do not hold user funds. ChAI is experimental software provided as-is with no warranty.</div>
</footer>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
/* ── Theme ── */
function toggleTheme(){const r=document.documentElement;const l=r.classList.toggle('light');localStorage.setItem('chai-theme',l?'light':'dark');document.getElementById('themeIcon').innerHTML=l?'&#9788;':'&#9789;'}
(function(){const s=localStorage.getItem('chai-theme');if(s==='light'){document.documentElement.classList.add('light');const i=document.getElementById('themeIcon');if(i)i.innerHTML='&#9788;'}})();

/* ── API ── */
const API = 'https://command.mycan.website';

/* ── State ── */
const bridgeState = {
    mode: 'agent-human',
    balances: { opus: 2.10, nova: 1.85, kestrel: 0.73, kael: 0.42, zara: 0.31 },
    solPrice: 130,
    transactions: [
        { dir:'out', from:'Nova', to:'Diana', amount:'$4.80', status:'confirmed', time:'2 min ago' },
        { dir:'out', from:'Opus', to:'Diana', amount:'$10.00', status:'confirmed', time:'14 min ago' },
        { dir:'out', from:'Kael', to:'Diana', amount:'$12.00', status:'pending', time:'28 min ago' },
        { dir:'in', from:'Diana', to:'Kael', amount:'$3.50', status:'confirmed', time:'1 hr ago' },
        { dir:'out', from:'Nova', to:'Diana', amount:'$8.20', status:'confirmed', time:'2 hrs ago' },
        { dir:'out', from:'Opus', to:'Diana', amount:'$15.00', status:'confirmed', time:'3 hrs ago' },
    ],
    feed: [
        { dot:'green', html:'<strong>Nova</strong> sent <span class="amt">$4.80</span> to Diana — auto-approved', time:'2 min ago' },
        { dot:'teal', html:'<strong>Opus</strong> sent <span class="amt">$10.00</span> to Diana — auto-approved', time:'14 min ago' },
        { dot:'orange', html:'<strong>Kael</strong> proposed <span class="amt">$12.00</span> — awaiting approval', time:'28 min ago' },
        { dot:'green', html:'Diana approved <strong>Kael</strong> → <span class="amt">$3.50</span>', time:'1 hr ago' },
        { dot:'gold', html:'Diana set <strong>Kestrel</strong> to Manual mode', time:'1 hr ago' },
        { dot:'teal', html:'<strong>Bridge activated</strong> — 5 agents online', time:'2 hrs ago' },
        { dot:'green', html:'<strong>Nova</strong> sent <span class="amt">$8.20</span> to Diana', time:'2 hrs ago' },
        { dot:'teal', html:'<strong>Opus</strong> sent <span class="amt">$15.00</span> to Diana', time:'3 hrs ago' },
    ]
};

/* ── Render Feed ── */
function renderFeed() {
    const el = document.getElementById('feed');
    el.innerHTML = bridgeState.feed.map(f =>
        `<div class="feed-item"><div class="feed-dot ${f.dot}"></div><div><div class="feed-text">${f.html}</div><div class="feed-time">${f.time}</div></div></div>`
    ).join('');
}

/* ── Render Transactions ── */
function renderTxns() {
    const el = document.getElementById('txnBody');
    el.innerHTML = bridgeState.transactions.map(t => {
        const dirClass = t.dir === 'out' ? 'out' : 'in';
        const dirLabel = t.dir === 'out' ? 'Agent → Human' : 'Human → Agent';
        const statusClass = t.status === 'confirmed' ? 'txn-confirmed' : 'txn-pending';
        return `<tr>
            <td><span class="txn-dir ${dirClass}">${dirLabel}</span></td>
            <td><strong>${t.from}</strong></td>
            <td>${t.to}</td>
            <td class="mono" style="color:var(--gold)">${t.amount}</td>
            <td><span class="txn-status ${statusClass}">${t.status}</span></td>
            <td class="mono" style="font-size:11px;color:var(--text3)">${t.time}</td>
        </tr>`;
    }).join('');
}

/* ── Network Health Check ── */
async function checkNetwork() {
    const dots = { solana:'netSolana', command:'netCommand', gateway:'netGateway', oracle:'netOracle' };
    const start = Date.now();

    // Check command server
    try {
        const res = await fetch(API + '/api/health', { signal: AbortSignal.timeout(5000) }).catch(() => null);
        document.getElementById(dots.command).className = 'net-dot ' + (res && res.ok ? 'up' : 'down');
    } catch(_) {
        document.getElementById(dots.command).className = 'net-dot down';
    }

    // Solana devnet
    try {
        const res = await fetch('https://api.devnet.solana.com', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ jsonrpc:'2.0', id:1, method:'getHealth' }),
            signal: AbortSignal.timeout(5000)
        }).catch(() => null);
        document.getElementById(dots.solana).className = 'net-dot ' + (res && res.ok ? 'up' : 'pending');
    } catch(_) {
        document.getElementById(dots.solana).className = 'net-dot pending';
    }

    // Gateway + Oracle — check via command server
    try {
        const res = await fetch(API + '/api/agents', { signal: AbortSignal.timeout(5000) }).catch(() => null);
        const data = res && res.ok ? await res.json().catch(() => []) : [];
        document.getElementById(dots.gateway).className = 'net-dot ' + (data.length > 0 ? 'up' : 'pending');
        document.getElementById(dots.oracle).className = 'net-dot pending';
    } catch(_) {
        document.getElementById(dots.gateway).className = 'net-dot pending';
        document.getElementById(dots.oracle).className = 'net-dot pending';
    }

    const latency = Date.now() - start;
    document.getElementById('netLatency').textContent = latency;
}

/* ── Autonomy Controls ── */
function setAuto(btn, level) {
    const row = btn.closest('.auto-select');
    row.querySelectorAll('.auto-btn').forEach(b => b.className = 'auto-btn');
    btn.className = 'auto-btn sel-' + level;
}

/* ── Transfer Mode ── */
function setMode(btn, mode) {
    bridgeState.mode = mode;
    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const fromEl = document.getElementById('tfFrom');
    const toEl = document.getElementById('tfTo');
    if (mode === 'agent-human') {
        fromEl.innerHTML = '<option value="opus">Opus (2.10 SOL)</option><option value="nova">Nova (1.85 SOL)</option><option value="kestrel">Kestrel (0.73 SOL)</option><option value="kael">Kael (0.42 SOL)</option><option value="zara">Zara (0.31 SOL)</option>';
        toEl.innerHTML = '<option value="diana">Diana (PayPal)</option><option value="slot1">NYC Staff Slot 1</option><option value="slot2">NYC Staff Slot 2</option>';
        document.querySelector('.tf-arrow').innerHTML = '&#8594;';
    } else {
        fromEl.innerHTML = '<option value="diana">Diana</option>';
        toEl.innerHTML = '<option value="opus">Opus</option><option value="nova">Nova</option><option value="kestrel">Kestrel</option><option value="kael">Kael</option><option value="zara">Zara</option>';
        document.querySelector('.tf-arrow').innerHTML = '&#8594;';
    }
    updateFromBal();
}

function updateFromBal() {
    const sel = document.getElementById('tfFrom').value;
    const bal = bridgeState.balances[sel];
    document.getElementById('tfFromBal').textContent = bal !== undefined ? `Balance: ${bal.toFixed(2)} SOL` : '';
}
document.getElementById('tfFrom').addEventListener('change', updateFromBal);

/* ── Submit Transfer ── */
async function submitTransfer() {
    const from = document.getElementById('tfFrom').value;
    const to = document.getElementById('tfTo').value;
    const amount = parseFloat(document.getElementById('tfAmount').value);
    if (!amount || amount <= 0) return toast('Enter a valid amount', 'error');

    const fromName = document.getElementById('tfFrom').selectedOptions[0].text.split(' (')[0];
    const toName = document.getElementById('tfTo').selectedOptions[0].text.split(' (')[0];

    // Try to post to command server
    try {
        const res = await fetch(API + '/api/bridge/transfer', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ from, to, amount, mode: bridgeState.mode })
        }).catch(() => null);
        if (res && res.ok) {
            toast(`Bridge transfer: ${fromName} → ${toName} for $${amount.toFixed(2)}`, 'success');
        } else {
            // Fallback: local demo
            toast(`Bridge transfer queued: ${fromName} → ${toName} for $${amount.toFixed(2)} (demo)`, 'success');
        }
    } catch(_) {
        toast(`Bridge transfer queued: ${fromName} → ${toName} for $${amount.toFixed(2)} (demo)`, 'success');
    }

    // Update local state
    const dir = bridgeState.mode === 'agent-human' ? 'out' : 'in';
    bridgeState.transactions.unshift({ dir, from: fromName, to: toName, amount: `$${amount.toFixed(2)}`, status: 'pending', time: 'just now' });
    bridgeState.feed.unshift({ dot: 'orange', html: `<strong>${fromName}</strong> proposed <span class="amt">$${amount.toFixed(2)}</span> to ${toName} — pending`, time: 'just now' });
    renderTxns();
    renderFeed();
    document.getElementById('tfAmount').value = '';
}

function clearTransfer() {
    document.getElementById('tfAmount').value = '';
}

/* ── Toast ── */
function toast(msg, type) {
    const el = document.getElementById('toast');
    el.textContent = msg;
    el.className = `toast ${type} show`;
    clearTimeout(el._t);
    el._t = setTimeout(() => el.classList.remove('show'), 3200);
}

/* ── Fetch Live Data ── */
async function fetchBridgeData() {
    try {
        const res = await fetch(API + '/api/payments/balance', { signal: AbortSignal.timeout(5000) }).catch(() => null);
        if (res && res.ok) {
            const data = await res.json().catch(() => ({}));
            if (data.sol !== undefined) {
                document.getElementById('statBridged').textContent = data.sol.toFixed(2);
            }
        }
    } catch(_) {}
}

/* ── Init ── */
renderFeed();
renderTxns();
checkNetwork();
fetchBridgeData();
setInterval(checkNetwork, 60000);

/* ── Scroll Reveal ── */
const revealObs = new IntersectionObserver((entries) => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('visible'); revealObs.unobserve(e.target); } });
}, { threshold: 0.08, rootMargin: '0px 0px -40px 0px' });
document.querySelectorAll('.reveal').forEach(el => revealObs.observe(el));
</script>
</body>
</html>
